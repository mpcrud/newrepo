<?xml version="1.0" encoding="UTF-8" ?>
<!--
 ! (c) Copyright 2005-2012 JAXIO, www.jaxio.com
 ! Source code generated by Celerio, a Jaxio product
 ! Want to use Celerio within your company? email us at info@jaxio.com
 ! Follow us on twitter: @springfuse
 ! Template pack-jsf2-primefaces:src/main/webapp/WEB-INF/taglib/panel/panelMenu.p.vm.xhtml
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:appcc="http://java.sun.com/jsf/composite/components"	
	template="/WEB-INF/layouts/main.xhtml">
	<ui:define name="topmenu">

			<p:toolbar>
				<p:toolbarGroup align="left" rendered="#{not sub and not readonly}">
					<!-- note: show js askForSaveDialog is done on server side -->
					<p:commandButton id="close" action="close" ajax="true" immediate="true" process="@this"
						icon="ui-icon-close"
						value="#{msg.menu_close}"
						title="#{msg.menu_close} #{title}"
						rendered="#{not empty bean}" />
					<p:commandButton id="quit" action="quit" ajax="false" process="@form"
						icon="ui-icon-closethick"
						value="#{msg.menu_quit}"
						title="#{msg.menu_quit} #{title}"
						rendered="#{empty bean}"/>
					<p:commandButton id="delete" icon="ui-icon-trash"
						onclick="askForDeleteDialog.show(); APP.focusAskForDeleteDialog();"
						value="#{msg.menu_delete_and_close}"
						title="#{msg.menu_delete_and_close} #{title}"
						rendered="#{not empty bean}"
						disabled="#{empty bean.id}" />
					<p:separator />
					<p:commandButton id="sendNew" action="sendNew" ajax="false" immediate="true" process="@this"
						icon="ui-icon-document"
						rendered="#{empty bean}"
						value="#{msg.menu_new}"
						title="#{msg.menu_new} #{title}" />
					<p:commandButton id="newLocation"
						onclick="APP.menu.newLocation();"
						icon="ui-icon-document"
						rendered="#{not empty bean}"
						value="#{msg.menu_new}"
						title="#{msg.menu_new} #{title}" />
					<p:commandButton id="openLocation"
						onclick="APP.menu.openLocation();"
						icon="ui-icon-folder-open"
						value="#{msg.menu_open}"
						title="#{msg.menu_open} #{title}"
						rendered="#{not empty bean}" />
				</p:toolbarGroup>
				<p:toolbarGroup align="left" rendered="#{sub or readonly}">
					<p:commandButton id="cancel" action="cancel" process="@none" ajax="false" immediate="true"
						value="${msg.back}" icon="ui-icon-arrowreturnthick-1-w"/>
				</p:toolbarGroup>
				<p:toolbarGroup align="right">
					<p:menuButton 
						value="#{msg.menu_active_flows} (#{flowsMenuHandler.menuModelCount})"
						model="#{flowsMenuHandler.getMenuModel(flowRequestContext)}"
						rendered="#{not sub}" />
					<p:menuButton value="Domain">
					<!--	<p:menuitem value="${msg.authGroup}" url="/app/authGroup" />
						<p:menuitem value="${msg.authGroupPermissions}" url="/app/authGroupPermissions" />
						<p:menuitem value="${msg.authMessage}" url="/app/authMessage" />
						<p:menuitem value="${msg.authPermission}" url="/app/authPermission" />
						<p:menuitem value="${msg.authUser}" url="/app/authUser" />
						<p:menuitem value="${msg.authUserGroups}" url="/app/authUserGroups" />
						<p:menuitem value="${msg.authUserUserPermissions}" url="/app/authUserUserPermissions" />
						<p:menuitem value="${msg.djangoAdminLog}" url="/app/djangoAdminLog" />
						<p:menuitem value="${msg.djangoContentType}" url="/app/djangoContentType" />
						<p:menuitem value="${msg.djangoSession}" url="/app/djangoSession" />
						<p:menuitem value="${msg.djangoSite}" url="/app/djangoSite" />   -->
						<p:menuitem value="${msg.tdChangePassword}" url="/app/tdChangePassword" />
						<p:menuitem value="${msg.tdCity}" url="/app/tdCity" />
						<p:menuitem value="${msg.tdComment}" url="/app/tdComment" />
						<p:menuitem value="${msg.tdCountry}" url="/app/tdCountry" />
						<p:menuitem value="${msg.tdMake}" url="/app/tdMake" />
						<p:menuitem value="${msg.tdMakeModel}" url="/app/tdMakeModel" />
						<p:menuitem value="${msg.tdMakeSubmodel}" url="/app/tdMakeSubmodel" />
						<p:menuitem value="${msg.tdMetro}" url="/app/tdMetro" />
						<p:menuitem value="${msg.tdOrder}" url="/app/tdOrder" />
						<p:menuitem value="${msg.tdPage}" url="/app/tdPage" />
						<p:menuitem value="${msg.tdPermission}" url="/app/tdPermission" />
						<p:menuitem value="${msg.tdPicture}" url="/app/tdPicture" />
						<p:menuitem value="${msg.tdProduct}" url="/app/tdProduct" />
						<p:menuitem value="${msg.tdProductBrand}" url="/app/tdProductBrand" />
						<p:menuitem value="${msg.tdProductModel}" url="/app/tdProductModel" />
						<p:menuitem value="${msg.tdProductShipment}" url="/app/tdProductShipment" />
						<p:menuitem value="${msg.tdProductSubmodel}" url="/app/tdProductSubmodel" />
						<p:menuitem value="${msg.tdProductSupplier}" url="/app/tdProductSupplier" />
						<p:menuitem value="${msg.tdRequestCarPart}" url="/app/tdRequestCarPart" />
						<p:menuitem value="${msg.tdRole}" url="/app/tdRole" />
					<!--	<p:menuitem value="${msg.tdShipmentVendor}" url="/app/tdShipmentVendor" />
						<p:menuitem value="${msg.tdState}" url="/app/tdState" />
						<p:menuitem value="${msg.tdSubmodelYearMapping}" url="/app/tdSubmodelYearMapping" />
						<p:menuitem value="${msg.tdTag}" url="/app/tdTag" />
						<p:menuitem value="${msg.tdTagGrp}" url="/app/tdTagGrp" />
						<p:menuitem value="${msg.tdTagGrpTagMapping}" url="/app/tdTagGrpTagMapping" />
						<p:menuitem value="${msg.tdTagRelation}" url="/app/tdTagRelation" />
						<p:menuitem value="${msg.tdTopic}" url="/app/tdTopic" />
						<p:menuitem value="${msg.tdUserActivity}" url="/app/tdUserActivity" />
						<p:menuitem value="${msg.tdUserActivityEvent}" url="/app/tdUserActivityEvent" />
						<p:menuitem value="${msg.tdUserAddress}" url="/app/tdUserAddress" />
						<p:menuitem value="${msg.tdUserAuth}" url="/app/tdUserAuth" />
						<p:menuitem value="${msg.tdUserDetail}" url="/app/tdUserDetail" />
						<p:menuitem value="${msg.tdUserTagPreference}" url="/app/tdUserTagPreference" />
						<p:menuitem value="${msg.tdVote}" url="/app/tdVote" />     -->
					<!--	<p:menuitem value="${msg.tempTdSubmodelYearMapping}" url="/app/tempTdSubmodelYearMapping" />
						<p:menuitem value="${msg.tempTdTagGrpTagMapping}" url="/app/tempTdTagGrpTagMapping" />    -->
					</p:menuButton>
					<p:menuButton value="Debug">
						<p:menuitem value="Throw exception!" action="debugThrowException" process="@this" ajax="false" immediate="true" icon="ui-icon ui-icon-alert" />
						<p:menuitem value="Throw ajax exception!" action="ajaxDebugThrowException" update="messages" process="@this" ajax="true" immediate="true" icon="ui-icon ui-icon-alert" style="width:300px"/>
					</p:menuButton>
				</p:toolbarGroup>
			</p:toolbar>
			<p:outputPanel rendered="#{readonly}">
				<!-- give focus to cancel to ease keyboard navigation -->
				<script type="text/javascript">
					$(function() {
						setTimeout(function() {
							APP.focusTo('form:cancel');
						}, 200);
					});
				</script>
			</p:outputPanel>
	</ui:define>
	<ui:define name="center">
		<span id="messagesRegion" aria-label="form feedback" aria-live="assertive" aria-relevant="additions">
			<appcc:messages id="messages"/>
		</span>
		<!-- see PrimeFacesUtil.java -->
		<p:commandButton id="forceClose" action="forceClose" value="forceClose"
			ajax="false" process="@none" immediate="true" style="display:none" />
		<p:focus context="center"/>
		<ui:insert name="content"/>
	</ui:define>
</ui:composition>